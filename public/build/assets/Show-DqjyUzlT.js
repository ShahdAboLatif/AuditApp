import{c as pe,j as t,H as ne,a as he,L as me}from"./app-rOyHO9Rd.js";import{A as xe}from"./app-layout-INM8-aEI.js";import{c as H}from"./app-logo-icon-yZ7-xYF8.js";import{F as fe}from"./file-text-DblCskrq.js";import{S as ge,T as je}from"./trash-2-brF9xrc_.js";import{S as ye}from"./store-Dug9W1tG.js";import"./app-KQAryUus.js";import"./index-RfzFmWyn.js";import"./index-C2AIlcfF.js";import"./index-BH0NSEIh.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ne=H("ArrowLeft",be);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_e=H("Calendar",ve);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Se=H("CircleCheck",we);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ce=H("CircleX",ke);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],De=H("User",Le);function Ve(a){const e=pe.c(97),{auth:r,audit:s}=a;if(!s){let k;e[0]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(ne,{title:"View Camera Form"}),e[0]=k):k=e[0];let C;e[1]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:t.jsx("div",{className:"rounded-lg border bg-card p-6",children:t.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})}),e[1]=C):C=e[1];let l;return e[2]!==r.user?(l=t.jsxs(xe,{user:r.user,children:[k,C]}),e[2]=r.user,e[3]=l):l=e[3],l}let m,i,x,f,h,c,u,d,o,p,n;if(e[4]!==s.camera_forms||e[5]!==s.date||e[6]!==s.id||e[7]!==s.store?.store||e[8]!==s.user?.name||e[9]!==r.user){i=s.camera_forms?.map($e).filter(Boolean);const k=i.reduce(Ee,{}),C=le=>s.camera_forms?.find(ae=>ae.entity_id===le);let l;e[21]!==s.id?(l=()=>{confirm("Are you sure you want to delete this camera form?")&&he.delete(`/camera-forms/${s.id}`,{onSuccess:Fe})},e[21]=s.id,e[22]=l):l=e[22];const Z=l;m=xe,p=r.user,e[23]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(ne,{title:"View Camera Form"}),e[23]=n):n=e[23],u="flex flex-1 flex-col gap-6 p-4 pt-0";let B;e[24]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(me,{href:"/camera-forms",className:"text-muted-foreground hover:text-foreground transition-colors",children:t.jsx(Ne,{className:"h-4 w-4"})}),t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Camera Form Details"})]}),e[24]=B):B=e[24];let L;e[25]!==s.id?(L=t.jsxs("div",{className:"space-y-1",children:[B,t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Form ID: #",s.id]})]}),e[25]=s.id,e[26]=L):L=e[26];const ee=`/camera-forms/${s.id}/edit`;let V;e[27]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(ge,{className:"h-4 w-4"}),e[27]=V):V=e[27];let D;e[28]!==ee?(D=t.jsxs(me,{href:ee,className:"inline-flex items-center gap-2 justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow hover:bg-primary/90 transition-colors",children:[V,"Edit"]}),e[28]=ee,e[29]=D):D=e[29];let X;e[30]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(je,{className:"h-4 w-4"}),e[30]=X):X=e[30];let F;e[31]!==Z?(F=t.jsxs("button",{onClick:Z,className:"inline-flex items-center gap-2 justify-center rounded-md border border-destructive bg-destructive/10 px-4 py-2 text-sm font-medium text-destructive hover:bg-destructive/20 transition-colors",children:[X,"Delete"]}),e[31]=Z,e[32]=F):F=e[32];let E;e[33]!==D||e[34]!==F?(E=t.jsxs("div",{className:"flex gap-2",children:[D,F]}),e[33]=D,e[34]=F,e[35]=E):E=e[35],e[36]!==L||e[37]!==E?(d=t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[L,E]}),e[36]=L,e[37]=E,e[38]=d):d=e[38];let O;e[39]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("div",{className:"rounded-full bg-primary/10 p-3",children:t.jsx(_e,{className:"h-5 w-5 text-primary"})}),e[39]=O):O=e[39];let P;e[40]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Date"}),e[40]=P):P=e[40];let $;e[41]!==s.date?($=new Date(s.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),e[41]=s.date,e[42]=$):$=e[42];let A;e[43]!==$?(A=t.jsx("div",{className:"rounded-lg border bg-card p-6 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[O,t.jsxs("div",{className:"space-y-1",children:[P,t.jsx("p",{className:"text-sm font-bold",children:$})]})]})}),e[43]=$,e[44]=A):A=e[44];let W;e[45]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx("div",{className:"rounded-full bg-accent/50 p-3",children:t.jsx(ye,{className:"h-5 w-5 text-accent-foreground"})}),e[45]=W):W=e[45];let G;e[46]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Store"}),e[46]=G):G=e[46];const te=s.store?.store;let T;e[47]!==te?(T=t.jsx("div",{className:"rounded-lg border bg-card p-6 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[W,t.jsxs("div",{className:"space-y-1",children:[G,t.jsx("p",{className:"text-sm font-bold",children:te})]})]})}),e[47]=te,e[48]=T):T=e[48];let J;e[49]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("div",{className:"rounded-full bg-secondary p-3",children:t.jsx(De,{className:"h-5 w-5 text-secondary-foreground"})}),e[49]=J):J=e[49];let K;e[50]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Created By"}),e[50]=K):K=e[50];const se=s.user?.name;let z;e[51]!==se?(z=t.jsx("div",{className:"rounded-lg border bg-card p-6 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[J,t.jsxs("div",{className:"space-y-1",children:[K,t.jsx("p",{className:"text-sm font-bold",children:se})]})]})}),e[51]=se,e[52]=z):z=e[52];let Q;e[53]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("div",{className:"rounded-full bg-muted p-3",children:t.jsx(fe,{className:"h-5 w-5 text-muted-foreground"})}),e[53]=Q):Q=e[53];let Y;e[54]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Total Entities"}),e[54]=Y):Y=e[54];const re=t.jsxs("div",{className:"space-y-1",children:[Y,t.jsx("p",{className:"text-sm font-bold",children:i.length})]});let M;e[55]!==re?(M=t.jsx("div",{className:"rounded-lg border bg-card p-6 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[Q,re]})}),e[55]=re,e[56]=M):M=e[56],e[57]!==A||e[58]!==T||e[59]!==z||e[60]!==M?(o=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[A,T,z,M]}),e[57]=A,e[58]=T,e[59]=z,e[60]=M,e[61]=o):o=e[61],h="rounded-lg border bg-card overflow-hidden",e[62]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 px-6 py-4 border-b",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Inspection Results"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All entities grouped by category"})]}),e[62]=c):c=e[62],x="p-6 space-y-8",f=Object.entries(k).map((le,ae)=>{const[de,ie]=le;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/20 text-primary text-sm font-bold",children:ae+1}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-base font-semibold",children:de}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[ie.length," ",ie.length===1?"item":"items"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 pl-11",children:ie.map(ce=>{const U=C(ce.id),oe=U?.rating?.label,ue=U?.note&&U.note.trim().length>0;return t.jsxs("div",{className:"group rounded-lg border bg-background hover:bg-accent/5 p-4 transition-all hover:shadow-md",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[t.jsx("h5",{className:"text-sm font-medium leading-tight flex-1",children:ce.entity_label}),oe?t.jsx(Se,{className:"h-4 w-4 text-primary flex-shrink-0"}):t.jsx(Ce,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]}),t.jsx("div",{className:"mb-2",children:oe?t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold bg-primary text-primary-foreground",children:U.rating.label}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-muted text-muted-foreground",children:"No rating"})}),ue&&t.jsx("div",{className:"mt-3 pt-3 border-t border-dashed",children:t.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:U.note})})]},ce.id)})})]},de)}),e[4]=s.camera_forms,e[5]=s.date,e[6]=s.id,e[7]=s.store?.store,e[8]=s.user?.name,e[9]=r.user,e[10]=m,e[11]=i,e[12]=x,e[13]=f,e[14]=h,e[15]=c,e[16]=u,e[17]=d,e[18]=o,e[19]=p,e[20]=n}else m=e[10],i=e[11],x=e[12],f=e[13],h=e[14],c=e[15],u=e[16],d=e[17],o=e[18],p=e[19],n=e[20];let g;e[63]!==x||e[64]!==f?(g=t.jsx("div",{className:x,children:f}),e[63]=x,e[64]=f,e[65]=g):g=e[65];let j;e[66]!==i.length?(j=i.length===0&&t.jsxs("div",{className:"p-12 text-center",children:[t.jsx(fe,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Entities Found"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"This form doesn't have any entity data yet."})]}),e[66]=i.length,e[67]=j):j=e[67];let y;e[68]!==g||e[69]!==j||e[70]!==h||e[71]!==c?(y=t.jsxs("div",{className:h,children:[c,g,j]}),e[68]=g,e[69]=j,e[70]=h,e[71]=c,e[72]=y):y=e[72];let R;e[73]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("span",{className:"font-medium",children:"Created:"}),e[73]=R):R=e[73];let b;e[74]!==s.created_at?(b=new Date(s.created_at).toLocaleString(),e[74]=s.created_at,e[75]=b):b=e[75];let N;e[76]!==b?(N=t.jsxs("div",{className:"flex items-center gap-2",children:[R,t.jsx("span",{children:b})]}),e[76]=b,e[77]=N):N=e[77];let I;e[78]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("span",{className:"font-medium",children:"Last Updated:"}),e[78]=I):I=e[78];let v;e[79]!==s.updated_at?(v=new Date(s.updated_at).toLocaleString(),e[79]=s.updated_at,e[80]=v):v=e[80];let _;e[81]!==v?(_=t.jsxs("div",{className:"flex items-center gap-2",children:[I,t.jsx("span",{children:v})]}),e[81]=v,e[82]=_):_=e[82];let w;e[83]!==N||e[84]!==_?(w=t.jsx("div",{className:"rounded-lg border bg-muted/30 p-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 text-xs text-muted-foreground",children:[N,_]})}),e[83]=N,e[84]=_,e[85]=w):w=e[85];let S;e[86]!==y||e[87]!==w||e[88]!==u||e[89]!==d||e[90]!==o?(S=t.jsxs("div",{className:u,children:[d,o,y,w]}),e[86]=y,e[87]=w,e[88]=u,e[89]=d,e[90]=o,e[91]=S):S=e[91];let q;return e[92]!==m||e[93]!==S||e[94]!==p||e[95]!==n?(q=t.jsxs(m,{user:p,children:[n,S]}),e[92]=m,e[93]=S,e[94]=p,e[95]=n,e[96]=q):q=e[96],q}function Fe(){return he.visit("/camera-forms")}function Ee(a,e){const r=e.category?.label||"Uncategorized";return a[r]||(a[r]=[]),a[r].push(e),a}function $e(a){return a.entity}export{Ve as default};
